<link rel="stylesheet" type="text/css" href="/css/jquery.auto-complete.css" />
<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script type="text/javascript" src="/js/jquery.auto-complete.js"></script>
<form>      
	<input type="text" class="form-control search-slt" id="keywords" placeholder="company name" >
	<input type="hidden" name="url" id="search-url" value="">
</form>
<div class="alert alert-success">
</div>
<script>
	$(function(){
		$("#keywords").keydown(function() {
		    if (event.keyCode === 13) {
		        event.preventDefault();
		    }
		});
         $('#keywords').autoComplete({
             minChars: 1,
             source: function(term, suggest){
                 $.ajax({
                     type:"get",
                     dataType:"json",                  //data를 json으로 return 받음.
                     url:"/search/auto",         //json으로 데이터를 반환해야한다.
                     data:{keyword : term},
                     success:function(data){
                     			suggest(data.result);
                     		}
             	});
             },
             onSelect: function(e,term,item) {
            	 location.href("/company/"+term+$("#search-url").val());
            	 console.log("Selected:" + term);
             }
         });
	});			
</script>